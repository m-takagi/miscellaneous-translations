<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ops="http://www.idpf.org/2007/ops" xml:lang="ja">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <link rel="stylesheet" type="text/css" href="style.css" />
  <meta name="generator" content="Re:VIEW" />
  <title>Given Enough Eyeballs, Not All Bugs are Shallow</title>
</head>
<body>
<h1><a id="h"></a>Given Enough Eyeballs, Not All Bugs are Shallow</h1>
<p class="flushright">Ara Pulido</p>
<p><a href="https://github.com/Open-Advice/Open-Advice/blob/master/qualityassurance/AraPulido.tex" class="link">The original text</a> (licenced under CC-BY-SA)</p>
<div class="lead">
<p>Ara PulidoはCanonicalで働くテスティングエンジニアである。最初はUbuntu QAチームに属していたが、今はHardware Certificationチームにいる。元は開発者だったが、程なく、自分はソフトウェアのテストが好きなのだということを知った。新しいテスティング技術に興味があり、自分の知識を活かしてUbuntuをよりよいものにしようと試みている。</p>
</div>

<h2><a id="h-1"></a>ドッグフーディングだけではダメ</h2>
<p>フリーソフトウェアの世界に関わり始めたのは、グラナダの大学に通っていたころだった。友達らとローカルのLinuxユーザーグループを作って、フリーソフトウェアを広めるためのイベントを開催したりもした。大学を卒業してからしばらく、Canonicalに入社するまでの間は、プロプライエタリなソフトウェア業界に属していた。最初は開発者として、そして後にはテスターとして。</p>
<p>プロプライエタリなソフトウェアのプロジェクトで働いていたときには、テスティングに割かれるリソースは限られていた。開発者が単体テストをした後を小さなテスティングチームが引き継ぎ、その専門知識をもってできるだけ多くのバグを発見し、よりよいプロダクトに仕上げて、それをエンドユーザーに使ってもらうといった具合だ。でも、フリーソフトウェアの世界では、何もかもが違っていた。</p>
<p>Canonicalに雇われたときには、フリーソフトウェアプロジェクトで食べていくという夢がかなっただけでなく、フリーソフトウェアプロジェクトのテスティングにおける可能性にも驚かされた。プロダクトの開発はオープンに進められ、ユーザーは初期の段階からそれを使うことができる。そしてバグを発見したら、それを登録してくれるのだ。テストに熱意を注ぐ人にとって、これはまったくの別世界だった。まさに夢のような世界だった。</p>
<p>多くの人たちと同様に私も、フリーソフトウェアにおけるテスティングで一番大事なのはドッグフーディング（リリース予定のソフトウェアを自分で使ってみること）だと思っていた。でも、「目玉の数さえ十分あれば、どんなバグも深刻ではない」（Raymondの「伽藍とバザール」より引用）と言われているのに、なぜ何百万ものユーザーがいるUbuntuのリリースに深刻なバグが紛れ込んでしまうのだろう？</p>
<p>Canonicalで働くようになって最初に気づいたのは、体系的なテスティングがほとんど（まったくといっていいほど）行われていないということだった。かろうじて体系的になっているものがあるとすれば、Ubuntuの開発版に向けてのパッケージのテストを依頼するメールがメーリングリストに流れるくらいだった。私には、これがまともなテスティングだとは思えなかった。ドッグフーディングと何が違うというのだろう。こんな状態だと、バグ報告の重複など日常茶飯事だ。簡単に再現できるバグなら、何百人ものユーザーから報告を受けることになってしまう。残念なことに、こんな状態では、見つけづらいけれども重大であろうと思われるバグが見落とされてしまう。仮に誰かがそんなバグを登録したとしても、おそらくそのまま放置されてしまうだろう。その他大勢が登録する大量のノイズに埋もれてしまうからだ。</p>

<h2><a id="h-2"></a>Looking better</h2>
<p>そんな状況は改善されただろうか？フリーソフトウェアのプロジェクトにおけるテスティング環境は、よりよくなっているだろうか？イエス。確かに前よりはよくなっているはずだ。</p>
<p>最新のUbuntu開発サイクルにおいて、体系的なテスティングを行いはじめた。扱う範囲は幅広い。デスクトップの新機能のテストや回帰テスト、X.orgのドライバのテストやラップトップのハードウェアのテストなども含む。そして、それらの結果は常に記録されており、開発者にとっても役立つものであることが証明されている。「バグが見つかっていないから、おそらくうまく動いているのだろう」ではなく、新しい機能がきちんと動いているかどうかをきちんと確認できるからである。</p>
<p>テストを支援するツールに関しては、さまざまな改善が見られる。</p>
<ul>
<li>Apport<a id="fnb-apport" href="#fn-apport" class="noteref">*1</a>は、Ubuntuに関するバグ報告をより詳細なレベルに持ち込む助けとなった。クラッシャーにはあらゆるデバッグ情報が含まれており、重複があれば検出してくれる。また、あやしい兆候にもとづいたバグ報告もできる。</li>
<li>Launchpad<a id="fnb-launchpad" href="#fn-launchpad" class="noteref">*2</a>はアップストリームともつながっており、バグの全貌を知ることができる。Ubuntuで発生したバグがアップストリームのプロジェクトに起因するものであればそれがわかり、そのバグがアップストリームで解決すべきものであると開発者が判断できるようになる。</li>
<li>FirefoxとTest Pilot拡張は、ブラウザから離れることなくテストを実行できる<a id="fnb-testpilot" href="#fn-testpilot" class="noteref">*3</a>。メーリングリストやIRCに頼るよりは、ずっと多くのテスターを集められる方法だと思う。</li>
<li>Ubuntu QAチームはデスクトップのテストを自動化しており、その結果は毎週報告される<a id="fnb-ubuntu" href="#fn-ubuntu" class="noteref">*4</a>。開発者はこれをチェックすれば、大きな手戻りが発生したとしてもすぐに気づける。</li>
</ul>
<div class="footnote" id="fn-apport"><p class="footnote">[<a href="#fnb-apport">*1</a>] <a href="http://wiki.ubuntu.com/Apport" class="link">http://wiki.ubuntu.com/Apport</a></p></div>
<div class="footnote" id="fn-launchpad"><p class="footnote">[<a href="#fnb-launchpad">*2</a>] <a href="http://launchpad.net" class="link">http://launchpad.net</a></p></div>
<div class="footnote" id="fn-testpilot"><p class="footnote">[<a href="#fnb-testpilot">*3</a>] <a href="http://testpilot.mozillalabs.com" class="link">http://testpilot.mozillalabs.com</a></p></div>
<div class="footnote" id="fn-ubuntu"><p class="footnote">[<a href="#fnb-ubuntu">*4</a>] <a href="http://reports.qa.ubuntu.com/reports/desktop-testing/natty" class="link">http://reports.qa.ubuntu.com/reports/desktop-testing/natty</a></p></div>
<p>このように、フリーソフトウェアのプロジェクトにおけるテスト環境はよくなりつつあるが、まだまだやるべきことは多い。</p>

<h2><a id="h-3"></a>Looking ahead</h2>
<p>テスティングは特殊な技能を要する作業で、専門知識も必要とするものだ。なのに、フリーソフトウェアのコミュニティにおけるテスティングには、それほど労力が割かれていない。その理由のひとつは、いまだに昔ながらのやりかたでテストを進めていて、最近のフリーソフトウェア界の複雑性を反映できていないという点だろう。フリーソフトウェアのコミュニティは、これまでに多くのイノベーションを引き起こしてきた。なのに、テストだけが未だに80年代のやりかたを引きずっているなんて、あり得ないのではないだろうか？振り返ってみよう。テストケースを用意するのは面倒だし、用意したテストケースもすぐに古くなって使えなくなってしまう。テストケースを日々更新し続けるだけのお仕事だと知ったら、テストのコミュニティはとても成長しないだろうし、誰も有用なバグを見つけてくれなくなる。</p>
<p>そんな状況を改善するには、いったいどうすればいいのだろう？今あるテストケースを一掃してしまうなんてことは、もちろんできない。でも、テストケースを新しく作ったり、既存のテストケースに手を加えたりする方法は、変える必要がある。テスターもユーザーもバカじゃない。ひとつひとつ進めていくようなスクリプトなんか、いらないだろう。そんなスクリプトは、テスト自動化ツールを使って簡単に置き換えられる。そんなスクリプトを作るのではなく、アプリケーションやその特徴に関して行う作業の一覧を作ろう。たとえば「ランチャー内のショートカットを並べ替えることができる」や「LibreOfficeをすばやく起動できる」といったものだ。どのようにテストするかはテスターが考えて、テスター自身がテストケースを用意する。</p>
<p>But this is not enough, we need better tools to help testers know what to test, when and how.  What about having an API to allow developers to send messages to testers about updates or new features that need testing? What about an application that tell us what part of our system needs testing based on testing activity? In the case of Ubuntu we have the data in Launchpad (we would need testing data as well, but at least we have bug data). If I want to start a testing session against a particular component I would love to have the areas that have not been tested yet and a list of the five bugs with more duplicates for that particular version, so I avoid filing those again. I would love to have all this information without leaving the same desktop that I am testing. This is something that Firefox has started with Test Pilot, although they are currently mainly gathering browser activity.</p>
<p>Communication between downstream and upstream and vice-versa also needs to get better. During the development of a distribution, many of the upstream versions are also under development, and they already have a list of known bugs. If I am a tester of Firefox through Ubuntu, I would love to have a list of known bugs as soon as the new package gets to the archive. This could be done by having an acknowledged syntax for release notes, that could then get easily parsed and bugs automatically filed and connected to the upstream bugs. Again, all of this information should be easily available to the tester, without leaving the desktop.</p>
<p>Testing, if done this way, would allow the tester to concentrate on the things that really matter and that make testing a skilled activity; concentrate on the hidden bugs that have not been found yet, on the special configurations and environments, on generating new ways to break the software. And, ultimately, on having fun while testing.</p>

<h2><a id="h-4"></a>Wrapping up</h2>
<p>From what I have seen in the latest three years, testing has improved a lot in Ubuntu and the rest of Free Software projects that I am somehow involved with, but this is not enough. If we really want to increase the quality Free Software we need to start investing in testing and innovating the ways we do it, the same way we invest in development. We cannot test 21st century software with 20th century testing techniques. We need to react. Free Software is good because it is open source is not enough anymore. Free Software will be good because it is open source and has the best quality that we can offer.</p>
</body>
</html>
