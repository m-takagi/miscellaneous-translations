<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ops="http://www.idpf.org/2007/ops" xml:lang="ja">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <link rel="stylesheet" type="text/css" href="style.css" />
  <meta name="generator" content="ReVIEW" />
  <title>PurposeOfEstimation</title>
</head>
<body>
<h1><a id="h"></a>PurposeOfEstimation</h1>
<div class="lead">
<p>Martin Fowler's blikiの&quot;<a href="http://martinfowler.com/bliki/PurposeOfEstimation.html" class="link">PurposeOfEstimation</a>&quot;の翻訳。</p>
</div>
<p>2013/2/27</p>
<p class="flushright">tags: <a href="http://martinfowler.com/tags/metrics.html" class="link">metrics</a> <a href="http://martinfowler.com/tags/project%20planning.html" class="link">project planning</a></p>
<p>アジャイルソフトウェア開発に初めて出会ったのは、Kent Beckと仕事をしたときのことだ。そう、あれは<a href="http://martinfowler.com/bliki/C3.html" class="link">Extreme Programmingの黎明期</a>だった。あのプロジェクトでいちばん印象的だったのは、計画づくりの方法だった。その見積もりは、私がそれまでに見てきた方法のどれよりも軽量で、かつ効率的だった。あれから10年。アジャイル開発者たちの間では、見積もりの有用性に対する議論が巻き起こっている。見積もりは役に立つものなのか、はたまた悪影響を及ぼすものなのか<a href="#fn-f01">*1</a>。思うに、この問いに答えるには、見積もりをどのように使うのかを明確にしておく必要があるんじゃないだろうか。</p>
<p>ありがちなシナリオは、こんなものだ。</p>
<ul>
<li>開発者は、次の作業の見積もりを聞かれる（あるいは見積もりを聞かされる）。<br />人はみな楽観的なので、その見積もりは少なめになりがち。見積もりを抑えろというプレッシャーがなくても（たいていは暗黙のプレッシャーがあるものだけれども）、自然にそうなる。</li>
<li>そのタスクや見積もりに基づいてリリース計画を立てて、バーンダウンチャートで計画の進行をチェックする。</li>
<li>計画に対する進捗状況の管理に大きな労力を費やす。進捗が計画よりも遅れ出して、みんなあたふたしはじめる。見積もりに追いつくために、品質を犠牲にしてでもペースを上げろという指示が出る。<a href="http://martinfowler.com/bliki/DesignStaminaHypothesis.html" class="link">そして、状況はさらに悪化する</a>。</li>
</ul>
<p>このシナリオで見積もりにかけた労力は、どんなに甘めに見ても、ムダ以外の何物でもない。&quot;an estimate is a guess in a clean shirt&quot; <a href="#fn-f02">*2</a>だからである。たいていは、見積もりが害になることのほうが多い。見積もりのせいで<a href="http://martinfowler.com/bliki/FeatureDevotion.html" class="link">FeatureDevotion</a>を強いられるからだ。機能をそぎ落とすことに気を取られすぎて、実際の成果を考えることがおろそかになってしまう。<a href="#fn-f03">*3</a></p>
<p>見積もりはまた、期待値のもとにもなる。見積もりはたいてい少なめになってしまうので、そこから得られる期待値も非現実的なものになる。<a href="#fn-f04">*4</a>少しでも余計に時間がかかったり、少しでも機能が減ったりすれば、期待外れだとみなされる。<a href="http://en.wikipedia.org/wiki/Loss_aversion" class="link">loss-aversion</a>のせいで、この損失は大きな影響を及ぼす。<a href="#fn-f05">*5</a></p>
<p>こんな状況に直面すると、つい見積もりを目の敵にしてしまう。そしてそれは、「見積もりなんかにこだわっている人は真のアジャイル開発者じゃない」という思いにつながる。アジャイルの粗探しをする人たちは、それを見て言う。「要するに、アジャイル開発っていうのは、約束をすることを開発者が放棄しちゃうってことなんだ。『いつできるの？』『いつっていうか、できたときができあがりさ。きっと気に入ると思うよ』みたいにね」</p>
<p>私は、見積もりは本質的に邪悪なものだというこの見方には与しない。「見積もりってダメなの？」って聞かれたら、お決まりの答えを返す。「状況によるね」そんなふうに答えたら、次に聞かれるのはきっと「たとえば？」だ。その問いに答えるには、私たちはいったいなぜ見積もりをするのかを考えなければいけない。つまり「もしそれをうまくやる価値があるっていうのなら、そもそもなぜそれをやるのかってことを考える価値もある」ってことだ。</p>
<p>私にとって、<em>見積もりに価値があるのは、それが重大な決断の助けになる場合だ</em>。</p>
<p>見積もりに基づく決断の一例として、リソースの確保を挙げよう。たいていの組織では、使える資金や人員の量は決まっている。そしてふつうは、資金や人員の量に比べてやることが多すぎる。そこで、決断を迫られることになる。Ａをやるべきか、はたまたＢをやるべきか。そんな決断を迫られたときに、それぞれの作業にかかる労力（やコスト）がわかっていると便利だ。何をすべきかについて理にかなった判断をするためには、それぞれの費用対効果を感覚的につかんでおかなければいけない。</p>
<p>もうひとつの例として、調整をしやすくするということを挙げよう。青チームは新機能をウェブサイトでリリースしたいと考えている。でも、緑チームが新サービスを構築してくれるまではその新機能を公開できない。というのも、その新機能は緑チームのサービスからのデータがないと動かないからだ。緑チームは新サービスの構築を二か月と見積もった。一方、青チームが新機能を完成させるには一か月ほどかかりそうだ。つまり、青チームは別に、いますぐ新機能の開発を始めなくてもいいということがわかる。すくなくとも一か月はそれ以外の作業をできて、そっちのほうを先にリリースできるということだ。</p>
<p>見積もりを作ってくれとお願いするなら、その見積もりを使ってどんな判断をしようとしているのかを明確にしておくべきだ。もしそれがはっきりしないだとか、あるいはその判断が対して重要なものではないなどといった場合は、きっとその見積もりはムダなんだろう。見積もりの目的がはっきりしていれば、見積もりにより注力できるようになる。その判断のもとになる状況がわかるからだ。また、見積もりに求める細かさや正確さについてもはっきりさせておこう。</p>
<p>判断した結果を知れば、別の動きをとれるかもしれない。そしてその動きには、見積もりが不要かもしれない。タスクAのほうがタスクBより明らかに重要なのだとすれば、最初の見積もりに全力を投入する必要もないだろう。青チームのメンバーが緑チームと協力して、まずは緑チームのサービスをなんとか動かすといった手が考えられる。</p>
<p>同じく、計画に対する実績を追うときにも、それが意思決定にどう関わるのかを意識しなければいけない。私がよく言っているのは、計画は評価を変更するときのベースラインになるということだ。新機能を追加したいとして、それをどうやって<a href="http://martinfowler.com/bliki/FivePoundBag.html" class="link">FivePoundBag</a>にフィットさせればいいだろう？見積もりを使えばこれらのトレードオフを把握する助けになるし、変更の要求にどう反応すればいいのかもわかる。リリース全体にまたがる大規模な再見積もりをすれば、そのプロジェクト自体にまだ力を入れるだけの価値があるかどうかを把握できる。数年前に、一年越しのプロジェクトを打ち切った。2か月ほどかけた再見積もりの結果だ。その判断は正解だったとみている。というのも、再見積もりの結果、当初の予想よりもはるかに時間がかかるであろうことが見えてきたからだ。早いうちに打ち切ったおかげで、クライアントはそのリソースを他に振り向けることができた。</p>
<p>しかし、計画に対する実績を追うときには、見積もりには寿命があるということを忘れないようにしよう。あるプロジェクトマネージャーが、かつてこんなことを言っていた。「計画や見積もりっていうのは、レタスみたいなものだ。おいしいのは数日だけ。一週間もすればしなびてくるし、数か月後には原形をとどめていない」</p>
<p>見積もりのおかげで、チームのメンバーどうしが有用な会話をできるようになるという面もある。見積もりミーティングは、さまざまなことを理解する助けになる。これから立ち向かうストーリーを実装するためのさまざまな方法や、今後のアーキテクチャ上の判断、そしてコード上の設計の問題などに目を向けられる。そんな場合、見積もりの数字がどうなるかは、実はあまり重要ではない。そういった会話を引き起こすには他にもいろんなやりかたがあるが、もしそういった会話が自然に発生しないのなら、見積もり時の議論がその助けになるだろう。<a href="#fn-f06">*6</a>逆に、もし見積もりをやめようというのなら、見積もりのときの有用なやりとりが、どこか他の場所で続けられるようにしなければいけない。</p>
<p>アジャイル方面のカンファレンスに行くと、見積もりなしでうまく回しているチームの話を聴くことがある。そういうチームがうまくいっている理由はたいてい、メンバーや顧客が、見積もりをしても重大な決断の材料にはならないであろうことを理解しているということだ。たとえば、小規模なチームで業務に密着した作業をしている場合がその一例だ。幅広い業務にまたがる場合でも、業務単位に何人かを割り当てられる場合は、作業を優先度順に行える。それを手助けするために、作業を小さな単位に分割することが多い。<a href="#fn-f07">*7</a><a href="http://martinfowler.com/articles/agileFluency.html" class="link">agile fluency model</a>におけるチームのレベルが、ここでは大きな意味を持つ。チームの成熟とともに、見積もりに悩まされていたメンバーが見積もりをうまくできるようになり、最終的には見積もりがいらないレベルに到達する。<a href="#fn-f08">*8</a></p>
<p>見積もり自体は、いいとか悪いとかいうものではない。見積もりなしでもうまく作業をこなせるのなら、それでいい。見積もりなしで突っ走ればいい。見積もりが必要だなあと思うのなら、方針を決めるにあたって自分がどんな役割を果たすのかを把握しておくことだ。これから重大な決断を下そうとしているのなら、できる限りの見積もりをしよう。とにかく、「見積もりはゼッタイ必要なんだ！」とか「見積もりなんてまったく無意味だね！」なんて言う人たちには要注意だ。見積もりの使い方についてのあらゆる議論はアジャイル原則に従う。現状に照らし合わせて考えたときに、何が最適なテクニックなのかを判断しなければいけない。</p>
<div class="footnote"><p class="footnote">[<a id="fn-f01">*1</a>] 最近、<a href="http://pragprog.com/magazines/2013-02/estimation-is-evil" class="link">Estimation is Evil</a>という記事を読んだ。Ron Jeffriesによるすばらしい議論で、見積もりのせいで起こり得る問題を扱っている。</p></div>
<div class="footnote"><p class="footnote">[<a id="fn-f02">*2</a>] Ron Jeffriesがかつてそう言っていたのだが、文書として書かれた出典は見つけられなかった。</p></div>
<div class="footnote"><p class="footnote">[<a id="fn-f03">*3</a>] これこそまさに、<a href="http://martinfowler.com/articles/useOfMetrics.html" class="link">メトリクスの間違った使いかた</a>の好例だ。</p></div>
<div class="footnote"><p class="footnote">[<a id="fn-f04">*4</a>] 見積もりと期待値：この件に関して私が特に気に入っているのは、同僚のAngela Fergusonのこんなコメントだ。「見積もりに対してどんな期待をするのかは、その人しだい。見積もりが絶対に変わらないものだと思い込んだり、見積もりが実際の工数や所要時間と完全に一致すると思い込んでいたりするのは<em>プロジェクト管理が（マネージャーにとってもチームのメンバーにとっても）うまくできていない</em>せいよ」「私は実際のところ、週に一度のペースで顧客に悪いお知らせをしに行っているわ。たとえ万事うまく進んでいたとしてもね。『今のところは順調に進んでいます。でも、もし予想より時間がかかるような作業が見つかったり要件に変更があったり、当初の見積もりで見落としていた大事なことを発見したりしたら、どうしたらいいと思いますか？』で、選択肢を示すの。機能を削るとか、納期を延ばすとか、要員を追加するとかね。常日頃からそんなふうに接していると、想定される不測の事態（ええ、きっと発生するって知ってる）が起こったときにもお客様は慌てずに済むってわけ」</p></div>
<div class="footnote"><p class="footnote">[<a id="fn-f05">*5</a>] ざっくり言うと、うまくいかないときの残念管はうまくいっているときの満足感の倍くらいにはなる。</p></div>
<div class="footnote"><p class="footnote">[<a id="fn-f06">*6</a>] そんなときには、<a href="http://martinfowler.com/bliki/ThrownEstimate.html" class="link">ThrownEstimates</a>みたいなやりかたを使えば、議論を進める助けになるだろう。</p></div>
<div class="footnote"><p class="footnote">[<a id="fn-f07">*7</a>] もちろん、作業を小さな単位に分割する時点で、何らかの見積もり的なものは必要になる。でもそれは、見積もりと聞いて一般的に思い浮かべるそれとはまったく異なる代物だ。</p></div>
<div class="footnote"><p class="footnote">[<a id="fn-f08">*8</a>] James Shoreが最近のblog記事で、アジャイル開発の浸透が見積もりにどんな影響を及ぼすのかに関して<a href="http://www.jamesshore.com/Blog/Estimation-and-Fluency.html" class="link">詳しく意見を述べていた</a>。この記事のように、いろんな段階での見積もりに関する分析をしてみるのは有用だと思う。</p></div>

<h2><a id="h-1"></a>謝辞</h2>
<p>ThoughtWorksの同僚達には、重ね重ね感謝する。社内のメーリングリストでいろんなコメントをもらった。中でもAngela FergusonとDave Pattinson、そしてPat Kuaには特に助けられた。また、James Shoreにも感謝する。fluency modelの記事にリンクを張りたいというお願いに、ものすごい速さで反応してくれた。</p>
</body>
</html>
